(this["webpackJsonptate-explorer"]=this["webpackJsonptate-explorer"]||[]).push([[0],[function(e){e.exports=JSON.parse('{"inventory":[{"id":"keycard","name":"Keycard","description":"Plastic."}],"graph":[{"id":"entrance","north":{"node":"corridor1"}},{"id":"corridor1","south":{"node":"entrance"},"east":{"node":"store1"}},{"id":"store1","west":{"node":"corridor1"}}],"rooms":{"entrance":{"title":"Reading Room","description":"You are standing in a reading room. There are some desks and chairs on soft carpeted floor, tall shelves line the walls. There is a door behind a counter to the North.","items":[{"canTake":true,"id":"leaflet","name":"Leaflet","description":"\\"Tate Archive collects and makes accessible a wealth of material primarily relating to the history of British art from 1900 to the present.\\""},{"id":"desk","name":"Desk","canTake":false,"description":"They are hardwood desks of massive construction with a leather writing surface laid into the top."},{"id":"chair","name":"Chair","canTake":false,"description":"The chairs are made of polished steel and soft black leather. Very heavy."},{"id":"counter","name":"Counter","canTake":false,"description":"The counter is chest-high, with dark-grey linoleum sides and an oak top. Leaflets are stacked in one corner."},{"id":"shelves","name":"Shelves","canTake":false,"description":"The shelves reach from floor to ceiling. They are filled with green binders."},{"id":"floor","name":"Floor","canTake":false,"description":"The light-grey carpet is so dense you can barely hear your own footsteps."}]},"corridor1":{"title":"Corridor","description":"You are in a wide corridor. To your left is a desk covered in stationery. There is a door in the wire mesh wall to the East.","items":[{"canTake":false,"id":"desk","description":"It\'s made of steel."},{"canTake":false,"id":"floor","description":"Light-grey linoleum."},{"canTake":false,"id":"door","description":"It\'s made of the same wire mesh as the wall. A card reader is attached to the wall next to it."},{"canTake":false,"id":"cardreader","description":"\\"Swipe here.\\""}],"doors":{}},"store1":{"title":"Store 1","description":"You\'re in a vast storage room lit by neon tubes. There is a row of 14 light-grey shelves mounted on steel tracks embedded into the floor. Each shelf has a label and a circular handle attached to the side facing you. You hear a humming noise from the climate control system.","items":[{"canTake":false,"id":"shelves","description":"They look heavy.","shelves":[{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 123\\"."},{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 124\\"."},{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 125\\"."},{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 126\\"."},{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 127\\"."},{"description":"The shelf is made of black and grey sheet metal, and tall enough to require a ladder. Its six levels are filled with binders, envelopes, and boxes of various shapes and sizes. The label reads \\"TGA 128\\"."}]},{"canTake":false,"id":"floor","descriprion":"Unremarkable."},{"canTake":false,"id":"tracks","descriprion":"Steel, polished to a high sheen by repeated use."}]}},"initialInventory":[{"id":"accesscard","name":"Access Card"},{"id":"wallet","name":"Wallet"},{"id":"keys","name":"Keys"}],"messages":{"cantGoThatWay":["You can\'t go in that direction","You can\'t go that way."],"cantTakeThat":["You can\'t take that.","Better to leave that there.","A bit too bulky.","You shouldn\'t take that.","Better to leave that where it is."],"didntUnderstand":["I didn\'t understand that.","That\'s not a word I know."],"noSuchThing":["There is no such thing here."]},"synonyms":[{"term":"west","match":["w","left"]},{"term":"east","match":["e","right"]},{"term":"north","match":["n"]},{"term":"south","match":["s"]},{"term":"inventory","match":["i","bag","items","pocket"]},{"term":"take","match":["grab","pick","pickup","get"]},{"term":"examine","match":["look","lookat","view"]}]}')},,,,,,,,,,function(e,t,a){e.exports=a(17)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),i=a(4),r=a.n(i),o=a(5),l=a(6),h=a(8),d=a(7),c=a(2),u=a(9),m=a(0),f=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};a(15);!function(){for(var e=0;e<14;e++)m.graph.push({id:"store1-shelf".concat(e+1),back:{node:"store1"},west:{node:"corridor1"}});console.dir(m.graph)}();var p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={input:"",prevInput:"",currentRoom:"entrance",outputs:[],inventory:m.initialInventory},a.outputRef=n.a.createRef(),a.inputRef=n.a.createRef(),a.handleInput=a.handleInput.bind(Object(c.a)(a)),a.handleChange=a.handleChange.bind(Object(c.a)(a)),a.detectSubmit=a.detectSubmit.bind(Object(c.a)(a)),a.addOutput=a.addOutput.bind(Object(c.a)(a)),a.getItemByID=a.getItemByID.bind(Object(c.a)(a)),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.inputRef.current.focus(),this.addOutput("You are the archivist. Find TGA431.")}},{key:"getNodeByID",value:function(e){for(var t=0;t<m.graph.length;t++)if(m.graph[t].id===e)return m.graph[t];console.warn("Couldn't find node with ID \"".concat(e,'"'))}},{key:"getItemByID",value:function(e){for(var t=0;t<m.rooms[this.state.currentRoom].items.length;t++)if(m.rooms[this.state.currentRoom].items[t].id===e)return m.rooms[this.state.currentRoom].items[t];for(var a=0;a<this.state.inventory.length;a++)if(this.state.inventory[a].id===e)return this.state.inventory[a];return!1}},{key:"addToInventory",value:function(e){this.setState((function(t){return t.inventory.push(e),t}))}},{key:"handleChange",value:function(e){this.setState({input:e.target.value})}},{key:"detectSubmit",value:function(e){"Enter"===e.key&&this.handleInput(),38===e.keyCode&&(this.setState({input:this.state.prevInput}),e.preventDefault())}},{key:"addOutput",value:function(e){var t=this;this.setState((function(t){return t.outputs.push(e),t}),(function(){var e=t.outputRef.current;e.scrollTop=e.scrollHeight}))}},{key:"resolveSynonyms",value:function(e){for(var t=0;t<m.synonyms.length;t++)for(var a=0;a<m.synonyms[t].match.length;a++)if(m.synonyms[t].match[a]===e)return m.synonyms[t].term;return e}},{key:"getMessage",value:function(e){if(m.messages[e])return m.messages[e][f(0,m.messages[e].length-1)]}},{key:"handleInput",value:function(){this.setState({prevInput:this.state.input});var e=this.state.input.split(" "),t=this.resolveSynonyms(e[0]),a=this.resolveSynonyms(e[1]),s=this.getNodeByID(this.state.currentRoom);if(this.setState((function(e){return e.outputs.push("> "+this.state.input),e})),this.setState({input:""}),1===e.length&&("north"===(a=this.resolveSynonyms(e[0]))||"south"===a||"east"===a||"west"===a?t="go":"inventory"===a&&(t="examine")),"go"===t)if(s[a]){var n=s[a].node;this.setState((function(e){return e.currentRoom=n,e})),this.addOutput(m.rooms[n].description)}else this.addOutput(m.messages.cantGoThatWay[0]);else if("take"===t){var i=this.getItemByID(a);i&&i.canTake&&(this.addOutput("Taken."),this.addToInventory(i)),i&&!i.canTake?this.addOutput(this.getMessage("cantTakeThat")):this.addOutput(this.getMessage("noSuchThing"))}else if("examine"===t)if("inventory"===a){var r=this.state.inventory.map((function(e){return"\u2014 ".concat(e.name)}));if(r.length>0)for(var o in this.addOutput("You are carrying:"),r)this.addOutput(r[o]);else this.addOutput("Your're not carrying anything.")}else if("around"===a)this.addOutput(m.rooms[this.state.currentRoom].description);else if("shelf"===a&&this.getItemByID("shelves")){var l=this.getItemByID("shelves"),h=e[2];this.addOutput(l.shelves[h].description)}else{var d=this.getItemByID(a);console.log(d),d?this.addOutput(d.description):this.addOutput(this.getMessage("noSuchThing"))}}},{key:"render",value:function(){var e=this.state.outputs.map((function(e,t){return n.a.createElement("li",{key:t},e)}));return n.a.createElement("div",{className:"game"},n.a.createElement("div",{className:"game--status"},m.rooms[this.state.currentRoom].title),n.a.createElement("div",{className:"game--output",ref:this.outputRef},n.a.createElement("ul",null,e)),n.a.createElement("div",{className:"game--controls"},n.a.createElement("input",{ref:this.inputRef,onKeyPress:this.detectSubmit,value:this.state.input,onChange:this.handleChange,className:"controls--field"}),n.a.createElement("button",{onClick:this.handleInput,className:"controls--button"},"Enter")))}}]),t}(n.a.Component);a(16);var v=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[10,1,2]]]);
//# sourceMappingURL=main.ab90ae7f.chunk.js.map